---
title: 使用 altstore 安装 ipa 应用
comments: true
toc: true
date: 2021-04-20 14:14:29
categories:
  - 瞎折腾
tags:
  - altstore
  - ipa
---

由于 iOS 的封闭性，导致 iOS 应用一般情况下只能通过 App Store 进行安装，或者是带有描述文件的签名安装。当在安装一些开源的 iOS 应用时由于没有签名并且发布的 ipa 安装包难以使用手机进行安装 (摊手┓( ´∀` )┏)

<!-- more -->

当然，还是有办法让 iOS 设备本地安装 ipa 并且进行签名的，就是有点麻烦，本文就是特地来简单记录下这件麻烦事的。说是麻烦事，其实也就是几个点击的事情，背后复杂的签名和验证、安装过程 AltStore 和 AltServer 都帮我们搞定了。

### macOS 安装 AltStore

首先需要下载 AltServer，并且安装到 macOS 上，官网也有提供 Windows Beta 版本，但很遗憾任务栏里的 AltServer 图标实在是卡的怀疑人生所以还是等正式版发布再说吧。

>1. 下载适用于 Mac 的 AltServer。
2. 将“ AltServer.app”复制到您的“应用程序”文件夹中。
3. 启动 AltServer（它将在菜单栏中显示为图标）。
4. 将您的 iPhone 连接到计算机，并确保它已解锁。
5. 将您的 iPhone 与计算机信任（如果需要）。
6. （仅 Mojave ）打开 iTunes 并为手机启用 iTunes Wi-Fi 同步。
7. （仅限 Catalina ）打开 Finder 并为手机启用“在 WiFi 上显示此 iPhone”。
8. 单击 Mac 菜单栏中的 AltServer 图标，单击“安装 AltStore ”，然后选择您的手机。
9. 输入您的 Apple ID 电子邮件和密码（注意：电子邮件地址和密码均区分大小写）。
10. （仅第一次）AltServer 将要求您安装邮件插件。请按照说明继续操作（或参阅下面的更多详细说明）。
11. 等待几秒钟，然后 AltStore 将安装到您的手机中。

上述安装步骤是从官网 FAQ 里翻译过来的，其中需要特别注意的是第 10 步，安装邮件插件并启用该插件。

#### 如何安装邮件插件？(仅限 Mac)

>1. 从 AltServer 菜单中单击“安装邮件插件”。
2. 输入密码以授予 AltServer 安装插件的权限。
3. 打开邮件（如果已在运行，请先退出邮件）。
4. 打开邮件 > 首选项。
5. 点击“管理插件...”
6. 启用“ AltPlugin.mailbundle”
7. 单击“应用并重新启动邮件”以完成安装。

### 本地安装 ipa 应用

AltStore 在手机上安装完成后，在设置 > 通用 > 描述文件中信任 AppleID 邮箱名的描述文件，然后打开该应用，在 “我的应用” 标签中，点击左上角的 “+” 按钮，然后选择您要侧载的 .ipa 文件。需要注意的是让手机网络和 Mac 的无线网络处于同一局域网络中，以便 iOS 设备发现 Mac 并且与之进行必要的通讯。

也就是说在安装或刷新应用程序时，AltServer 必须与 AltStore 处于同一 WiFi 网络上运行，注意咯，这里 Mac 连接有线网络但无线网络不是和 AltStore 处于同一网络也不行哦。如果 AltServe 有线网络使用 USB 线缆连接手机的话，有线网络也是可以的就不用管无线网络了。通过将手机插入计算机，始终可以在不使用 WiFi 的情况下安装和刷新应用。但是，这意味着 AltStore 法在后台通过 WiFi 为您刷新应用程序。


{% alertbox danger "

另外请在 macOS 上打开邮件应用！！！

" %}


Apple允许具有 Apple ID 的任何人将自己构建的应用程序安装到设备上进行测试。 AltStore 使用您的 Apple ID 代表您与 Apple 的服务器进行通信，并执行必要的步骤来准备用于在您的设备上安装应用程序的帐户。

### FAQ

**我是否需要担心“吊销”？**

理论上应从 Xcode 安装应用程序，AltStore 使用针对 Mac 配套应用程序模拟该过程。AltStore 使用了 Apple 提供给开发人员的功能来在真实设备上测试其应用程序，而不是使用 Apple 可以轻松打击的企业证书。该工具从根本上欺骗了设备，使其认为自己正在安装自己制作的应用程序。

其他替代应用商店使用“企业证书”来允许人们安装应用。但是，Apple 明确禁止这样做，导致他们积极关闭或“撤消”了其他应用商店使用的这些企业证书。这会导致应用程序每隔一段时间停止打开一次，直到获得新的企业证书为止。由于 AltStore 不使用企业证书，因此不必担心 Apple 会通过撤销单个证书来关闭 AltStore（因为从技术上来说，每个人现在都有自己的签名证书）。

**为什么说我的应用程序将在7天后过期？**

不幸的是，使用非开发人员 Apple ID 安装的应用程序（换句话说，与每年 99 美元的 Apple 开发人员帐户无关的 Apple ID）仅有效 7 天，此后它们将不再打开。为了弥补这一点，AltStore 会定期尝试在后台刷新您的应用程序，并且您始终可以从 AltStore中手动刷新您的应用程序，AltStore 在后台通过WiFi为您刷新应用程序。

### REF 

- [AltStore FAQ](https://altstore.io/faq/)

